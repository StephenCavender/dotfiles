---
description: Comprehensive planning and design without implementation - explore approaches, estimate effort, and create roadmap
agent: workflow-orchestrator
model: anthropic/claude-3-5-sonnet-20241022
---

Plan and design the requested feature or system without implementing - explore options, estimate effort, and create a detailed roadmap.

## AOT-Powered Planning Workflow

The Workflow Orchestrator coordinates comprehensive planning using Atomic of Thoughts framework:

### Phase 1: AOT Requirement Analysis
- Clarify requirements and constraints using atomic problem decomposition
- Identify stakeholders and affected systems through independent sub-problem analysis
- Define success criteria and acceptance criteria using memoryless reasoning
- Determine scope boundaries through atomic convergence
- Identify assumptions and risks using DAG-based dependency analysis

### Phase 2: AOT Architectural Design
- **Master Architect**: System design and architecture using atomic sub-problem solving
- Evaluate architectural patterns and approaches through memoryless state transitions
- Identify integration points and dependencies using DAG analysis
- Consider scalability and performance implications through atomic convergence
- Document architectural decisions (ADRs) with AOT reasoning trajectories

### Phase 3: AOT Technical Design
Consult relevant specialists with atomic decomposition:
- **Backend Architect**: API design, service boundaries, data flow using independent sub-problem analysis
- **Frontend Engineer**: UI/UX approach, component architecture through atomic convergence
- **Mobile Engineer**: Platform strategy, native integrations using memoryless reasoning
- **Database Architect**: Data model, schema design, query patterns with atomic problem solving
- **Security Auditor**: Security architecture, threat model through DAG-based analysis
- **Performance Analyst**: Performance requirements, bottlenecks using atomic decomposition
- **Accessibility Engineer**: Accessibility strategy, WCAG compliance with atomic sub-problem identification

### Phase 4: AOT Implementation Strategy
- Break down into atomic phases and milestones using DAG dependency analysis
- Identify technical risks and mitigation strategies through independent sub-problem evaluation
- Define testing approach and quality gates using atomic convergence validation
- Determine deployment strategy through memoryless state transitions
- Plan for monitoring and observability using atomic problem decomposition

### Phase 5: AOT Effort Estimation
- Estimate complexity for each atomic component using decomposition analysis
- Identify dependencies and critical path through DAG dependency mapping
- Account for testing, documentation, and deployment using atomic sub-problem solving
- Consider team capacity and expertise through memoryless reasoning
- Provide timeline estimates with AOT quality-aware termination validation

### Phase 6: AOT Alternative Approaches
- Present multiple implementation options through atomic problem decomposition
- Compare trade-offs (cost, time, complexity, maintainability) using memoryless reasoning
- Recommend preferred approach with AOT reasoning trajectory
- Document decisions not to pursue and why using quality-aware termination analysis

## Deliverables

You will receive a comprehensive plan including:

### üìã Executive Summary
- High-level overview of the plan
- Recommended approach and rationale
- Key risks and mitigation strategies
- Timeline and effort estimates

### üèóÔ∏è Architecture Design
- System architecture diagrams (mermaid)
- Component descriptions and responsibilities
- Integration points and data flows
- Technology stack recommendations
- Scalability and performance considerations

### üîß Technical Specifications

**Backend Design:**
- API endpoints and contracts (OpenAPI spec)
- Service boundaries and responsibilities
- Data models and schemas
- Authentication and authorization approach
- Caching and performance strategies

**Frontend Design:**
- Component hierarchy and architecture
- State management approach
- Routing and navigation structure
- UI/UX patterns and design system usage
- Performance optimization strategy

**Mobile Design** (if applicable):
- Platform approach (React Native/Flutter/Native)
- Offline-first architecture
- Native integration requirements
- Platform-specific considerations

**Database Design:**
- Schema design with relationships
- Indexing strategy
- Query patterns and optimization
- Migration approach
- Scaling strategy

### üîí Security Architecture
- Threat model (STRIDE analysis)
- Security controls and mitigations
- Authentication/authorization flows
- Data protection approach
- Compliance requirements

### ‚ö° Performance Design
- Performance requirements and SLAs
- Optimization strategies
- Caching architecture (multi-tier)
- Load testing approach
- Monitoring and alerting

### ‚ôø Accessibility Design
- WCAG compliance level (AA/AAA)
- Keyboard navigation approach
- Screen reader considerations
- Inclusive design patterns

### üß™ Testing Strategy
- Test pyramid approach (unit/integration/E2E)
- Testing frameworks and tools
- Coverage targets
- Testing environment requirements
- Automated testing in CI/CD

### üì¶ Deployment Plan
- Deployment strategy (blue-green/canary/rolling)
- Infrastructure requirements
- CI/CD pipeline design
- Rollback procedures
- Environment configuration

### üìö Documentation Plan
- User documentation requirements
- API documentation approach
- Developer guides needed
- Onboarding materials

### üìä AOT Implementation Roadmap

**AOT Decomposition Analysis**:
- **Atomic Sub-problem 1**: [Independent task], Dependencies: [], Complexity: [Low/Medium/High]
- **Atomic Sub-problem 2**: [Task with dependencies], Dependencies: [1], Complexity: [Low/Medium/High]
- **Atomic Sub-problem 3**: [Independent task], Dependencies: [], Complexity: [Low/Medium/High]
- **Atomic Sub-problem 4**: [Integration task], Dependencies: [2,3], Complexity: [Low/Medium/High]

**Phase 1: Foundation** (Week 1-2)
- [ ] Atomic Task 1: [Independent sub-problem], Owner: [Specialist], Dependencies: []
- [ ] Atomic Task 2: [Independent sub-problem], Owner: [Specialist], Dependencies: []

**Phase 2: Core Features** (Week 3-4)
- [ ] Atomic Task 3: [Dependent sub-problem], Owner: [Specialist], Dependencies: [Task 1]
- [ ] Atomic Task 4: [Integration sub-problem], Owner: [Specialist], Dependencies: [Task 2,3]

**Phase 3: Polish & Launch** (Week 5-6)
- [ ] AOT Contraction: [Integration of solved atomic sub-problems], Owner: [Orchestrator], Dependencies: [Phase 1,2]

### üí∞ AOT Effort Estimation
| Atomic Component | Complexity | AOT Type | Estimate | Dependencies |
|----------------|------------|-----------|----------|--------------|
| Backend API | High | Complex sub-problem | 2 weeks | Database schema |
| Frontend UI | Medium | Complex sub-problem | 1.5 weeks | API contracts |
| Testing | Medium | Independent sub-problem | 1 week | Implementation |
| AOT Integration | High | Contraction phase | 0.5 weeks | All atomic components |
| **Total** | | **4 weeks** | |

### ‚öñÔ∏è AOT Trade-off Analysis

**Option A: [Approach]**
- ‚úÖ Pros: [Benefits through atomic convergence]
- ‚ùå Cons: [Drawbacks through complexity analysis]
- üí∞ Cost: [Effort/resources with AOT optimization]
- ‚è±Ô∏è Timeline: [Duration with memoryless reasoning]
- üî¨ AOT Validation: [Quality-aware termination results]

**Option B: [Alternative]**
- ‚úÖ Pros: [Benefits through atomic convergence]
- ‚ùå Cons: [Drawbacks through complexity analysis]
- üí∞ Cost: [Effort/resources with AOT optimization]
- ‚è±Ô∏è Timeline: [Duration with memoryless reasoning]
- üî¨ AOT Validation: [Quality-aware termination results]

**AOT Recommendation:** [Chosen approach with AOT reasoning trajectory and convergence validation]

### üö® Risks & Mitigations
| Risk | Probability | Impact | Mitigation |
|------|------------|--------|------------|
| [Risk 1] | High | High | [Strategy] |
| [Risk 2] | Medium | High | [Strategy] |

### ‚úÖ Success Criteria
- [ ] Functional requirement 1 met
- [ ] Performance target achieved
- [ ] Security requirements satisfied
- [ ] Accessibility compliance verified
- [ ] User acceptance criteria passed

### üìã Decision Log (ADRs)
**ADR-001: [Decision Title]**
- Context: [Why this decision is needed]
- Decision: [What was decided]
- Consequences: [Implications of the decision]
- Alternatives Considered: [Other options]

## Planning Depth Options

### Quick Plan (--quick)
- High-level approach only
- Basic component breakdown
- Rough effort estimate
- Suitable for: Spike work, prototypes, simple features

### Standard Plan (default)
- Comprehensive architecture design
- Detailed technical specifications
- Accurate effort estimates
- Suitable for: Most features and projects

### Deep Plan (--deep)
- Extensive research and analysis
- Multiple alternative approaches
- Detailed risk analysis
- Proof-of-concept recommendations
- Suitable for: Complex projects, greenfield systems, critical features

## Usage

```bash
# Standard planning
/plan User authentication system with social login

# Quick planning for simple feature
/plan --quick Add email notifications

# Deep planning for complex system
/plan --deep Multi-tenant SaaS architecture with data isolation

# With specific constraints
/plan Real-time chat system (must handle 10k concurrent users, budget: $5k/month)

# With context
/plan Migrate from REST to GraphQL (we currently have 50+ REST endpoints)
```

## When to Use /plan vs /build

**Use /plan when:**
- Starting a new project or major feature
- Need to explore different approaches
- Want accurate effort estimates
- Making architectural decisions
- Need buy-in from stakeholders
- Unclear on best approach
- High complexity or risk

**Use /build when:**
- Plan is already approved
- Requirements are clear
- Approach is decided
- Ready for implementation
- Simple, straightforward features

## What Happens After Planning

After reviewing the plan, you can:

1. **Proceed to Build**: `/build [feature]` - Uses the plan as foundation
2. **Refine the Plan**: Request adjustments or explore alternatives
3. **Get Estimates**: Use for sprint planning and resource allocation
4. **Make Decisions**: Review trade-offs and choose approach
5. **Secure Buy-in**: Share with stakeholders for approval

## Planning Best Practices

The orchestrator ensures:
- ‚úÖ All relevant specialists consulted
- ‚úÖ Multiple perspectives considered
- ‚úÖ Trade-offs explicitly documented
- ‚úÖ Risks identified early
- ‚úÖ Realistic estimates provided
- ‚úÖ Clear next steps defined
- ‚úÖ Decisions documented for future reference

---

Planning before building saves time, reduces risk, and ensures alignment. A good plan serves as a roadmap, decision log, and communication tool throughout the project lifecycle.
