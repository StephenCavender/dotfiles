---
description: Code refactoring for improved maintainability
agent: code-reviewer
model: anthropic/claude-3-5-sonnet-20241022
---

Analyze the code and provide comprehensive refactoring recommendations.

AOT-Powered Analysis Focus:
- Code smells and anti-patterns through atomic problem identification
- Complexity reduction using DAG-based decomposition and convergence
- Design pattern improvements with memoryless reasoning transitions
- Separation of concerns through independent sub-problem analysis
- Code duplication elimination using atomic pattern recognition
- Naming and readability improvements with atomic unit validation
- Test coverage gaps through independent test unit analysis
- Performance optimization opportunities using atomic convergence

AOT-Enhanced Deliverables:
- Current code analysis with atomic problem identification and DAG structure
- AOT refactoring strategy using decomposition and contraction phases
- Step-by-step atomic refactoring plan with independent sub-problem solving
- Before/after code examples showing atomic convergence improvements
- Impact assessment (risk, effort, benefits) with quality-aware termination validation
- Testing strategy for refactored code using independent test unit analysis
- Backward compatibility considerations with memoryless transition analysis
- Migration path if breaking changes using atomic decomposition of migration steps

AOT Refactoring Process:
1. **Decomposition Phase**: Break refactoring problems into atomic sub-problems with dependency analysis
2. **Independent Solutions**: Solve atomic sub-problems that don't depend on previous steps
3. **Contraction Phase**: Generate simplified, self-contained refactoring approach incorporating solved sub-problems
4. **Quality-Aware Termination**: Validate that refactored approach maintains answer-equivalence with reduced complexity

Consider:
- Maintain existing functionality (unless explicitly changing behavior)
- Minimize risk with incremental changes
- Ensure comprehensive test coverage
- Document architectural improvements
- Balance perfection with pragmatism

Consult with Master Architect for significant architectural changes.
